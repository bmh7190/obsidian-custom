
---
## **Join Expression

조인(Join) 연산은 두 릴레이션의 카티션 곱(Cartesian product)을 기반으로 하며, 그 결과에서 튜플들이 일정 조건을 만족해야 한다. 조인 연산은 조건을 만족하는 튜플들을 선택할 뿐만 아니라, 결과에 포함될 속성(컬럼)들도 함께 지정한다.

**SQL은 다양한 형태의 조인 연산을 제공하며, 명시적인 조인 조건(Join Predicate)을 지정할 수도 있다.**  (이를 **조인 조건** 또는 **Join Condition**이라고도 한다)

```SQL
select name, course_id
from instructor, teaches
where instructor.ID = teaches.ID
```

이 쿼리는 다음과 같이 **`NATURAL JOIN`** 을 이용해 간단히 표현할 수도 있다:

```SQL
select name, course_id
from instructor natural join teaches;
```

여기서 `instructor`와 `teaches` 테이블 모두에 `ID`라는 속성이 존재하며, 이 공통 속성을 기준으로 자동 조인이 수행된다.  즉, `NATURAL JOIN`은 **두 테이블에 공통된 속성 이름**(`ID`)을 기준으로 조인을 수행하므로, 위 쿼리와 동일한 결과를 반환한다.

또한, 아래와 같이 **명시적인 조인 조건을 사용하는 `JOIN ... ON`** 형태로도 동일한 쿼리를 작성할 수 있다:

```SQL
select name, course_id
from instructor join teaches on instructor.ID = teaches.ID;
```

---

## **Outer Join**

**Outer Join**은 **정보 손실을 방지하기 위한 조인 연산의 확장형**이다.  
일반적인 **Inner Join에서 제외되었을 튜플들**을 **결과에 보존**하는 방식이다.

이 연산은 다음과 같은 방식으로 동작한다:

> [!순서]
> 1. 먼저 일반적인 **조인(join)** 을 수행한다.
>     
> 2. 그 후, **한 릴레이션에서 다른 릴레이션과 매칭되지 않는 튜플들**을 결과에 추가한다.
>     
> 3. 이때, 매칭되지 않은 속성 값은 **`NULL`로 채워진다.**


**`NATURAL LEFT OUTER JOIN`** 은 두 릴레이션 간의 조인을 수행할 때, **왼쪽 릴레이션의 모든 튜플을 유지**하면서, 오른쪽 릴레이션에 **매칭되는 값이 있으면 함께 출력**하고, **없으면 해당 속성은 `NULL`로 채워진다.** ( R ⟕ S )

![](../images/Pasted%20image%2020250403140658.png)

반대로, **`NATURAL RIGHT OUTER JOIN`** 은 **오른쪽 릴레이션을 기준**으로 수행되며, **오른쪽 릴레이션의 모든 튜플을 유지**한다. ( R ⟖ S )


![](../images/Pasted%20image%2020250403140635.png)

그리고 **`NATURAL FULL OUTER JOIN`** 은 위의 **LEFT OUTER JOIN과 RIGHT OUTER JOIN을 합친 것과 같다**.  ( R ⟗ S )

![](../images/Pasted%20image%2020250403140724.png)

즉, **양쪽 릴레이션의 모든 튜플을 포함**하며, 매칭되지 않는 부분은 `NULL`로 채워진다. 